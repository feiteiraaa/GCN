HistoricoAprovacoesDetails As screen:
    OnVisible: |-
        =/*ClearCollect(
                collectDetailsAprov, 
        Filter(Atividades, ThisRecord.ID = DataTable1.Selected.'ID Atividade'.ID), 
        Filter(Pessoas, ThisRecord.'ID Atividade'.ID = DataTable1.Selected.'ID Atividade'.ID),
        Filter(Dependências, ThisRecord.'ID Atividade'.ID =  DataTable1.Selected.'ID Atividade'.ID),
        Filter('Fatores de Criticidades', ThisRecord.'ID Atividade'.ID = DataTable1.Selected.'ID Atividade'.ID) 
        //Filter('Equipamentos de Escritório', ThisRecord.'ID Atividade'.ID = DataTable1.Selected.'ID Atividade'.ID)
        )*/
        
        
        ClearCollect(
                collectDetailsAprov, 
        Filter(Atividades, ThisRecord.ID = DataTable1.Selected.'ID Atividade'.ID));
        
        
        ClearCollect(
                collectDetailsCriticidade, 
        Filter('Fatores de Criticidades', ThisRecord.'ID Atividade'.ID = DataTable1.Selected.'ID Atividade'.ID) );
        
        ClearCollect(
                collectDetailsRecurso, 
        Filter(Pessoas, ThisRecord.'ID Atividade'.ID = DataTable1.Selected.'ID Atividade'.ID) );
        
        ClearCollect(
                collectDetailsEquipamentos, 
        Filter('Equipamentos de Escritório', ThisRecord.'ID Atividade'.ID = DataTable1.Selected.'ID Atividade'.ID) );
        
        ClearCollect(
                collectDetailsSistemas, 
        Filter(Sistemas, ThisRecord.'ID Atividade'.ID = DataTable1.Selected.'ID Atividade'.ID) );
        
        
        ClearCollect(
                collectDetailsDependencia, 
        Filter(Dependências, ThisRecord.'ID Atividade'.ID = DataTable1.Selected.'ID Atividade'.ID) );

    LeftSectionComponent_14 As LeftSectionComponent:
        ZIndex: =1

    Label19 As label:
        Text: =DataTable1.Selected.'ID Atividade'.ID
        X: =1216
        ZIndex: =3

    Label1_15 As label:
        Size: =15
        Text: ="Detalhes - Histórico de Aprovação"
        Width: =360
        X: =359
        Y: =35
        ZIndex: =5

    Container1 As groupContainer.manualLayoutContainer:
        BorderColor: =cores.amareloMontepio
        BorderThickness: =2
        DropShadow: =DropShadow.None
        Height: =93
        RadiusBottomLeft: =10
        RadiusBottomRight: =10
        RadiusTopLeft: =10
        RadiusTopRight: =10
        Width: =945
        X: =380
        Y: =94
        ZIndex: =6

        Label20 As label:
            FontWeight: =FontWeight.Bold
            PaddingBottom: =0
            PaddingLeft: =10
            PaddingTop: =10
            Text: |-
                ="ID_Total:"
            Width: |
                =Container1.Width/4
            ZIndex: =1

        Label20_1 As label:
            PaddingLeft: =10
            PaddingTop: =0
            Text: =DataTable1.Selected.'ID Atividade'.ID_Total
            Width: =236
            Y: =40
            ZIndex: =2

        Label20_2 As label:
            FontWeight: =FontWeight.Bold
            PaddingBottom: =0
            PaddingTop: =10
            Text: |-
                ="Estado:"
            Width: |
                =Container1.Width/4
            X: =234
            ZIndex: =3

        Label20_3 As label:
            PaddingTop: =0
            Text: =DataTable1.Selected.Estado
            Width: =236
            X: =234
            Y: =40
            ZIndex: =4

        Label20_4 As label:
            FontWeight: =FontWeight.Bold
            PaddingBottom: =0
            PaddingTop: =10
            Text: |-
                ="Data Decisão:"
            Width: |
                =Container1.Width/4
            X: =471
            ZIndex: =5

        Label20_5 As label:
            PaddingTop: =0
            Text: =Text(DataTable1.Selected.'Data Aprovaçao',"dd/mm/yyyy")
            Width: =236
            X: =471
            Y: =40
            ZIndex: =6

        Label20_6 As label:
            FontWeight: =FontWeight.Bold
            PaddingBottom: =0
            PaddingTop: =10
            Text: |-
                ="Decisor:"
            Width: |
                =Container1.Width/4
            X: =708
            ZIndex: =7

        Label20_7 As label:
            PaddingTop: =0
            Text: =DataTable1.Selected.Decisor
            Width: =236
            X: =708
            Y: =40
            ZIndex: =8

    "galProcesso As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
        DelayItemLoading: =true
        Height: =472
        Items: =collectDetailsAprov
        Layout: =Layout.Vertical
        LoadingSpinner: =LoadingSpinner.Data
        ShowScrollbar: =false
        TemplatePadding: =0
        TemplateSize: =544
        Visible: |
            =If(FormulariosAtividade.Selected.titulo = "Caracterização do Processo", true, false)
        Width: =Container1.Width
        WrapCount: =0
        X: =376
        Y: =266
        ZIndex: =10

        Label24_2 As label:
            FontWeight: =FontWeight.Bold
            OnSelect: =Select(Parent)
            Text: |-
                ="Tipo de Processo: "
            Width: =403
            X: =10
            ZIndex: =9

        Label24_3 As label:
            Height: =45
            OnSelect: =Select(Parent)
            Text: =ThisItem.uipp_TipodeProcesso.'Tipo de Processo'
            Width: =403
            X: =10
            Y: =40
            ZIndex: =10

        Label24_4 As label:
            FontWeight: =FontWeight.Bold
            OnSelect: =Select(Parent)
            Text: |-
                ="Macro process: "
            Width: =540
            X: =403
            ZIndex: =11

        Label24_5 As label:
            Height: =45
            OnSelect: =Select(Parent)
            Text: =ThisItem.uipp_MacroProcesso.'Macro Processo (uipp_macroprocesso)'
            Width: =542
            X: =403
            Y: =40
            ZIndex: =12

        Label24_6 As label:
            FontWeight: =FontWeight.Bold
            Height: =45
            OnSelect: =Select(Parent)
            Text: |-
                ="Processo:"
            Width: =403
            X: =10
            Y: =85
            ZIndex: =13

        Label24_7 As label:
            AutoHeight: =true
            Height: =68
            OnSelect: =Select(Parent)
            Text: =ThisItem.uipp_Processo.'Processo (uipp_processo)'
            Width: =galProcesso.Width/2
            X: =10
            Y: =131
            ZIndex: =14

        Label24_8 As label:
            FontWeight: =FontWeight.Bold
            Height: =53
            OnSelect: =Select(Parent)
            Text: |-
                ="Edíficio: "
            Width: =530
            X: =413
            Y: =85
            ZIndex: =15

        Label24_9 As label:
            Height: =26
            OnSelect: =Select(Parent)
            Text: =ThisItem.Edifício.Localização
            Width: =galProcesso.Width/2
            X: =413
            Y: =130
            ZIndex: =16

        Label24_10 As label:
            FontWeight: =FontWeight.Bold
            OnSelect: =Select(Parent)
            Text: |-
                ="Atividades: "
            Width: =galProcesso.Width/2
            X: =10
            Y: =161
            ZIndex: =17

        "Gallery5 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
            DelayItemLoading: =true
            Height: =266
            Items: =Filter('Atividade/Processos',ID_PRO.ID=DataTable1.Selected.'ID Atividade'.ID)
            Layout: =Layout.Vertical
            LoadingSpinner: =LoadingSpinner.Data
            ShowScrollbar: =false
            TemplatePadding: =0
            TemplateSize: =101
            Width: =843
            X: =76
            Y: =201
            ZIndex: =18

            Label25 As label:
                OnSelect: =Select(Parent)
                Text: =ThisItem.Atividade
                X: =69
                ZIndex: =6

            Icon9 As icon.NextArrow:
                Color: =cores.amareloMontepio
                DisabledColor: =cores.amareloMontepio
                DisplayMode: =DisplayMode.Disabled
                Height: =23
                Icon: =Icon.NextArrow
                OnSelect: =Select(Parent)
                Width: =23
                X: =28
                Y: =8
                ZIndex: =7

    "galCriticidade As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
        DelayItemLoading: =true
        Height: =486
        Items: =collectDetailsCriticidade
        Layout: =Layout.Vertical
        LoadingSpinner: =LoadingSpinner.Data
        ShowScrollbar: =false
        TemplatePadding: =0
        TemplateSize: =263
        Visible: |+
            =If(Trim(Lower(FormulariosAtividade.Selected.titulo)) = "Fatores de Criticidade", true, false)
            
        Width: =Container1.Width
        WrapCount: =0
        X: =380
        Y: =252
        ZIndex: =11

        Label24_22 As label:
            FontWeight: =FontWeight.Bold
            OnSelect: =Select(Parent)
            Text: ="Tipo de fator "
            Width: =403
            X: =10
            ZIndex: =9

        Label24_24 As label:
            Height: =45
            OnSelect: =Select(Parent)
            Text: =ThisItem'Tipo de Fator'
            Width: =403
            X: =10
            Y: =40
            ZIndex: =10

        Label24_23 As label:
            FontWeight: =FontWeight.Bold
            OnSelect: =Select(Parent)
            Text: |-
                ="Macro process: "
            Width: =540
            X: =403
            ZIndex: =11

        Label24_25 As label:
            Height: =45
            OnSelect: =Select(Parent)
            Text: =ThisItem.uipp_MacroProcesso.'Macro Processo (uipp_macroprocesso)'
            Width: =542
            X: =403
            Y: =40
            ZIndex: =12

        Label24_26 As label:
            FontWeight: =FontWeight.Bold
            Height: =45
            OnSelect: =Select(Parent)
            Text: |-
                ="Processo:"
            Width: =403
            X: =10
            Y: =85
            ZIndex: =13

        Label24_29 As label:
            AutoHeight: =true
            Height: =68
            OnSelect: =Select(Parent)
            Text: =ThisItem.uipp_Processo.'Processo (uipp_processo)'
            Width: =galCriticidade.Width/2
            X: =10
            Y: =131
            ZIndex: =14

        Label24_27 As label:
            FontWeight: =FontWeight.Bold
            Height: =53
            OnSelect: =Select(Parent)
            Text: |-
                ="Edíficio: "
            Width: =530
            X: =413
            Y: =85
            ZIndex: =15

        Label24_28 As label:
            Height: =26
            OnSelect: =Select(Parent)
            Text: =ThisItem.Edifício.Localização
            Width: =galCriticidade.Width/2
            X: =413
            Y: =130
            ZIndex: =16

        Label24_30 As label:
            FontWeight: =FontWeight.Bold
            OnSelect: =Select(Parent)
            Text: |-
                ="Atividades: "
            Width: =galCriticidade.Width/2
            X: =10
            Y: =161
            ZIndex: =17

    "FormulariosAtividade As gallery.'BrowseLayout_Horizontal_TwoTextOneImageVariant_ver5.0'":
        DelayItemLoading: =true
        DisplayMode: |
            =DisplayMode.Edit
        Height: =61
        Items: =AtividadeFormMenu
        LoadingSpinner: =LoadingSpinner.Data
        TemplatePadding: =0
        TemplateSize: =FormulariosAtividade.Width / FormulariosAtividade.AllItemsCount
        Width: =945
        X: =380
        Y: =196
        ZIndex: =12

        Rectangle4_4 As rectangle:
            Fill: =
            Height: =2
            OnSelect: =Select(Parent)
            Width: =Parent.Width / Parent.AllItemsCount
            Y: =47
            ZIndex: =1

        Label2_4 As label:
            Align: =Align.Center
            DisplayMode: |-
                =/*If(
                    ThisItem.titulo = "Caracterização do Processo" Or ThisItem.titulo = "Fatores de Criticidade",
                    
                    DisplayMode.Edit,
                    
                    If(
                        Value('4Horas'.Text) = 4 Or
                        Value('24Horas'.Text) = 4 Or
                        Value('48Horas'.Text) = 4 Or
                        Value('1Semana'.Text) = 4 Or
                        Value('2Semanas'.Text) = 4 Or
                        Value('1Mes'.Text) = 4,
                
                        DisplayMode.Edit,
                
                        DisplayMode.Disabled
                    )
                )*/
                ThisItem.modo
            FontWeight: |-
                =If(
                    ThisItem.IsSelected,
                    FontWeight.Bold,
                    FontWeight.Normal
                )
            Height: =61
            OnSelect: |-
                =If(
                    ThisItem.titulo <> "Caracterização do Processo" Or ThisItem.titulo <> "Fatores de Criticidade",
                    If(
                        Value('4Horas'.Text) = 4 Or
                        Value('24Horas'.Text) = 4 Or
                        Value('48Horas'.Text) = 4 Or
                        Value('1Semana'.Text) = 4 Or
                        Value('2Semanas'.Text) = 4 Or
                        Value('1Mes'.Text) = 4,
                        
                        Select(Parent);
                        If(
                            ThisItem.estado <> "feito",
                            Patch(
                                AtividadeFormMenu,
                                LookUp(
                                    AtividadeFormMenu,
                                    Trim(Lower(ThisRecord.titulo)) = Trim(Lower(ThisItem.titulo))
                                ),
                                {
                                    estado: "em curso"
                                }
                            )
                        ),
                        false
                    ),
                    false
                )
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingTop: =0
            Size: =12
            Text: =ThisItem.titulo
            VerticalAlign: =VerticalAlign.Top
            Width: =Parent.Width / Parent.AllItemsCount
            ZIndex: =2

    "galRecursos As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
        DelayItemLoading: =true
        Height: =488
        Items: =collectRecursos
        Layout: =Layout.Vertical
        LoadingSpinner: =LoadingSpinner.Data
        ShowScrollbar: =false
        TemplatePadding: =0
        TemplateSize: =263
        Visible: |-
            =//If(Trim(Lower(FormulariosAtividade.Selected.titulo)) = "Caracterização dos Recursos", true, false)
            false
        Width: =Container1.Width
        WrapCount: =0
        X: =380
        Y: =257
        ZIndex: =13

        Label24_31 As label:
            FontWeight: =FontWeight.Bold
            OnSelect: =Select(Parent)
            Text: |-
                ="Tipo de Processo: "
            Width: =403
            X: =10
            ZIndex: =9

        Label24_33 As label:
            Height: =45
            OnSelect: =Select(Parent)
            Text: =ThisItem
            Width: =403
            X: =10
            Y: =40
            ZIndex: =10

        Label24_32 As label:
            FontWeight: =FontWeight.Bold
            OnSelect: =Select(Parent)
            Text: |-
                ="Macro process: "
            Width: =540
            X: =403
            ZIndex: =11

        Label24_34 As label:
            Height: =45
            OnSelect: =Select(Parent)
            Text: =ThisItem.ID
            Width: =542
            X: =403
            Y: =40
            ZIndex: =12

        Label24_35 As label:
            FontWeight: =FontWeight.Bold
            Height: =45
            OnSelect: =Select(Parent)
            Text: |-
                ="Processo:"
            Width: =403
            X: =10
            Y: =85
            ZIndex: =13

        Label24_38 As label:
            AutoHeight: =true
            Height: =68
            OnSelect: =Select(Parent)
            Text: =ThisItem.uipp_Processo.'Processo (uipp_processo)'
            Width: =galRecursos.Width/2
            X: =10
            Y: =131
            ZIndex: =14

        Label24_36 As label:
            FontWeight: =FontWeight.Bold
            Height: =53
            OnSelect: =Select(Parent)
            Text: |-
                ="Edíficio: "
            Width: =530
            X: =413
            Y: =85
            ZIndex: =15

        Label24_37 As label:
            Height: =26
            OnSelect: =Select(Parent)
            Text: =ThisItem.Edifício.Localização
            Width: =galRecursos.Width/2
            X: =413
            Y: =130
            ZIndex: =16

        Label24_39 As label:
            FontWeight: =FontWeight.Bold
            OnSelect: =Select(Parent)
            Text: |-
                ="Atividades: "
            Width: =galRecursos.Width/2
            X: =10
            Y: =161
            ZIndex: =17

